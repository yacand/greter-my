var Version={VERSION:1,MAJOR:0,MINOR:0,REVISION:181,DATE:"05.02.2017 18:00:44,53"},Game;!function(t){"use strict";var e=function(){function t(){this._game=null,this._stage=null,this._data=null,this._armatureDisplay=null,this._dragging=!1}return t.prototype.init=function(t,e){this._game=t,this._stage=e,this._stage.interactive=!0;var r=dragonBones.PixiFactory.factory.buildArmature("shipball"),n=r.display;n.x=.5*this._game.width,n.y=.5*this._game.height,r.addEventListener(dragonBones.EventObject.START,this._animationEventHandler,this),r.addEventListener(dragonBones.EventObject.FRAME_EVENT,this._animationEventHandler,this),r.animation.play("ship-anim-1"),r.animation.timeScale=1;r.getBones(),r.getBone("boneBall");n.interactive=!0,n.buttonMode=!0,n.on("pointerdown",this.onDragStart,this),n.on("pointerup",this.onDragEnd,this),n.on("pointerupoutside",this.onDragEnd,this),n.on("pointermove",this.onDragMove,this),dragonBones.WorldClock.clock.add(r),this._stage.addChild(n),this._armatureDisplay=n},t.prototype.onDragStart=function(t){this._data=t.data,this._data.alpha=.5,this._dragging=!0;var e=this._data.getLocalPosition(this._armatureDisplay.parent);this._armatureDisplay.x=e.x,this._armatureDisplay.y=e.y+.5*this._armatureDisplay.height},t.prototype.onDragEnd=function(){this._data.alpha=1,this._dragging=!1,this._data=null,this._armatureDisplay.x=.5*this._game.width,this._armatureDisplay.y=.5*this._game.height},t.prototype.onDragMove=function(){if(this._dragging){var t=this._data.getLocalPosition(this._stage);this._armatureDisplay.x=t.x,this._armatureDisplay.y=t.y+.5*this._armatureDisplay.height}},t.prototype._animationEventHandler=function(t){console.log(t.type,t.name,t.animationState.name)},t.prototype._renderHandler=function(t){dragonBones.WorldClock.clock.advanceTime(-1),this._game.render(this._stage)},t}();t.GameView=e}(Game||(Game={}));var Game;!function(t){"use strict";var e=function(){function e(){this._game=new PIXI.WebGLRenderer(250,250,{backgroundColor:16777215}),this._stage=new PIXI.Container,this._backgroud=new PIXI.Sprite(PIXI.Texture.EMPTY)}return e.prototype.init=function(){document.body.appendChild(this._game.view),this._stage.addChild(this._backgroud),this._backgroud.width=this._game.width,this._backgroud.height=this._game.height,this.startPreloader()},e.prototype.startPreloader=function(){this._preloader=new t.Preloader,this._preloader.init(this._game,this._stage)},e}();t.Main=e}(Game||(Game={}));var Game;!function(t){"use strict";var e=function(){function e(){this._game=null,this._stage=null,this._gameView=null}return e.prototype.init=function(t,e){this._game=t,this._stage=e,PIXI.ticker.shared.add(this._renderHandler,this),PIXI.loader.add("dragonBonesData","./resources/art_ske.json"),PIXI.loader.add("textureDataA","./resources/art_tex.json"),PIXI.loader.add("textureA","./resources/art_tex.png"),PIXI.loader.once("complete",this._loadCompleteHandler,this),PIXI.loader.load()},e.prototype._renderHandler=function(t){dragonBones.WorldClock.clock.advanceTime(-1),this._game.render(this._stage)},e.prototype._loadCompleteHandler=function(e,r){dragonBones.PixiFactory.factory.parseDragonBonesData(r.dragonBonesData.data),dragonBones.PixiFactory.factory.parseTextureAtlasData(r.textureDataA.data,r.textureA.texture),this._gameView=new t.GameView,this._gameView.init(this._game,this._stage)},e}();t.Preloader=e}(Game||(Game={}));